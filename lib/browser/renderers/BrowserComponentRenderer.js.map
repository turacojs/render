{"version":3,"sources":["../../../src/browser/renderers/BrowserComponentRenderer.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;0CAA8B,mCAAmC;;;;;IAE5C,wBAAwB;cAAxB,wBAAwB;;aAAxB,wBAAwB;8BAAxB,wBAAwB;;mCAAxB,wBAAwB;;;iBAAxB,wBAAwB;;;;;;;;;;;;;;eAOrC,cAAC,aAAa,EAAE,UAAU,EAAE;AAC5B,mBAAO,SAAQ,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS,EAAK;AACvF,oBAAI,UAAU,GAAG,UAAU,CAAC,YAAY,CAAC,2BAA2B,CAAC,CAAC;AACtE,0BAAU,GAAG,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAClD,yBAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;AACxC,yBAAS,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;;AAErC,oBAAI,SAAS,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;AACjD,6BAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,WAAW,EAAK;AACxC,iCAAS,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,WAAW,GAAG,IAAI,CAAC,CAAC;qBACtG,CAAC,CAAC;iBACN;;AAED,yBAAS,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;AACrC,yBAAS,CAAC,KAAK,EAAE,CAAC;AAClB,0BAAU,CAAC,UAAU,GAAG,SAAS,CAAC;aACrC,CAAC,CAAC;SACN;;;;;;;;;;;;;;;;eAQK,gBAAC,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE;AAChC,qBAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;AACxC,qBAAS,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;AACrC,gBAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAC9B,qBAAS,CAAC,MAAM,EAAE,CAAC;;AAEnB,gBAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAE5C,gBAAI,YAAY,oBAAmB,EAAE;AACjC,uBAAO,YAAY,CAAC,IAAI,CAAC,YAAM;AAC3B,6BAAS,CAAC,KAAK,EAAE,CAAC;AAClB,2BAAO,SAAS,CAAC;iBACpB,CAAC,CAAC;aACN;;AAED,qBAAS,CAAC,KAAK,EAAE,CAAC;AAClB,mBAAO,SAAS,CAAC;SACpB;;;WAjDgB,wBAAwB;;;qBAAxB,wBAAwB","file":"BrowserComponentRenderer.js","sourcesContent":["import ComponentRenderer from '../../renderers/ComponentRenderer';\n\nexport default class BrowserComponentRenderer extends ComponentRenderer {\n    /**\n     * Invoked only on browser just the first time\n     *\n     * @param {string} componentName\n     * @param {Element} $container\n     */\n    load(componentName, $container) {\n        return Promise.resolve(this.factory.create(componentName, $container)).then((component) => {\n            let properties = $container.getAttribute('data-component-properties');\n            properties = properties && JSON.parse(properties);\n            component.properties = properties || {};\n            component.init(component.properties);\n\n            if (component.elements && component.elements.length) {\n                component.elements.forEach((elementName) => {\n                    component['$' + elementName] = component.$container.findFirst('[data-role=\"' + elementName + '\"]');\n                });\n            }\n\n            component.load(component.properties);\n            component.ready();\n            $container._component = component;\n        });\n    }\n\n    /**\n     * @param {Component} component\n     * @param {Object} [properties]\n     * @param {Object} [data]\n     * @returns {Component}\n     */\n    render(component, properties, data) {\n        component.properties = properties || {};\n        component.init(component.properties);\n        this._initElements(component);\n        component.create();\n\n        const renderResult = component.render(data);\n\n        if (renderResult instanceof Promise) {\n            return renderResult.then(() => {\n                component.ready();\n                return component;\n            });\n        }\n\n        component.ready();\n        return component;\n    }\n}\n"]}