{"version":3,"sources":["../../src/factories/ComponentFactory.js"],"names":[],"mappings":";;;;;;;;;;;;kCAAc,uBAAuB;;;;IAEhB,gBAAgB;AACtB,aADM,gBAAgB,CACrB,eAAe,EAAE;8BADZ,gBAAgB;;AAE7B,YAAI,CAAC,eAAe,GAAG,eAAe,CAAC;KAC1C;;iBAHgB,gBAAgB;;eAKpB,uBAAC,SAAS,EAAE;AACrB,gBAAI,SAAS,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;AACjD,yBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,WAAW,EAAK;AACxC,wBAAI,CAAC,SAAS,CAAC,GAAG,GAAG,WAAW,CAAC,EAAE;AAC/B,iCAAS,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,gCAAE,MAAM,CAAC,KAAK,CAAC,CAAC;qBAClD;AACD,6BAAS,CAAC,GAAG,GAAG,WAAW,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;iBACvE,CAAC,CAAC;aACN;SACJ;;;eAEK,gBAAC,cAAc,EAAE,UAAU,EAAE;AAC/B,gBAAI,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;AACrD,gBAAI,UAAU,EAAE;AACZ,yBAAS,CAAC,UAAU,GAAG,UAAU,CAAC;aACrC,MAAM;AACH,yBAAS,CAAC,UAAU,GAAG,gCAAE,MAAM,CAAC,KAAK,CAAC,CAAC;aAC1C;AACD,gBAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAC9B,qBAAS,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC;AACjE,qBAAS,CAAC,UAAU,CAAC,IAAI,CACrB,wBAAwB,EACxB,SAAS,CAAC,KAAK,KAAK,SAAS,IAAI,SAAS,CAAC,OAAO,KAAK,SAAS,CACnE,CAAC;AACF,gBAAI,SAAS,CAAC,OAAO,EAAE;AACnB,yBAAS,CAAC,UAAU,CAAC,EAAE,CAAC,SAAS,EAAE;2BAAM,SAAS,CAAC,OAAO,EAAE;iBAAA,CAAC,CAAC;aACjE;AACD,qBAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,IAAI,EAAE,CAAC;AAC9C,mBAAO,SAAS,CAAC;SACpB;;;eAEG,cAAC,aAAa,EAAE,UAAU,EAAE;AAC5B,gBAAI,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;AACpD,mBAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,YAAM;AACzC,yBAAS,CAAC,UAAU,GAAG,UAAU,CAAC;AAClC,oBAAI,SAAS,CAAC,OAAO,EAAE;AACnB,6BAAS,CAAC,UAAU,CAAC,EAAE,CAAC,SAAS,EAAE;+BAAM,SAAS,CAAC,OAAO,EAAE;qBAAA,CAAC,CAAC;iBACjE;AACD,oBAAI,SAAS,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;AACjD,6BAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,WAAW,EAAK;AACxC,4BAAI,CAAC,SAAS,CAAC,GAAG,GAAG,WAAW,CAAC,EAAE;AAC/B,qCAAS,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,cAAc,GAAG,WAAW,GAAE,IAAI,CAAC,CAAC;yBACtF;qBACJ,CAAC,CAAC;iBACN;AACD,uBAAO,SAAS,CAAC;aACpB,CAAC,CAAC;SACN;;;WApDgB,gBAAgB;;;qBAAhB,gBAAgB","file":"ComponentFactory.js","sourcesContent":["import $ from 'springbokjs-dom/lib/$';\n\nexport default class ComponentFactory {\n    constructor(instanceFactory) {\n        this.instanceFactory = instanceFactory;\n    }\n\n    _initElements(component) {\n        if (component.elements && component.elements.length) {\n            component.elements.forEach((elementName) => {\n                if (!component['$' + elementName]) {\n                    component['$' + elementName] = $.create('div');\n                }\n                component['$' + elementName].setAttribute('data-role', elementName);\n            });\n        }\n    }\n\n    create(componentClass, $container) {\n        var component = this.instanceFactory(componentClass);\n        if ($container) {\n            component.$container = $container;\n        } else {\n            component.$container = $.create('div');\n        }\n        this._initElements(component);\n        component.$container.attr('data-component', componentClass.name);\n        component.$container.attr(\n            'data-component-preload',\n            component.ready !== undefined || component.destroy !== undefined\n        );\n        if (component.destroy) {\n            component.$container.on('dispose', () => component.destroy());\n        }\n        component.elements = component.elements || [];\n        return component;\n    }\n\n    load(componentName, $container) {\n        var component = this.instanceFactory(componentName);\n        return Promise.resolve(component).then(() => {\n            component.$container = $container;\n            if (component.destroy) {\n                component.$container.on('dispose', () => component.destroy());\n            }\n            if (component.elements && component.elements.length) {\n                component.elements.forEach((elementName) => {\n                    if (!component['$' + elementName]) {\n                        component['$' + elementName] = $container.find('[data-role=\"' + elementName +'\"]');\n                    }\n                });\n            }\n            return component;\n        });\n    }\n}\n"]}